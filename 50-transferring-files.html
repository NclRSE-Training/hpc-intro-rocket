<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Introduction to HPC: Transferring files with remote computers</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/incubator/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicons/incubator/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicons/incubator/favicon-16x16.png"><link rel="manifest" href="favicons/incubator/site.webmanifest"><link rel="mask-icon" href="favicons/incubator/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Lesson Description" src="assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/50-transferring-files.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Lesson Description" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Introduction to HPC
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Introduction to HPC
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to HPC
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 50%" class="percentage">
    50%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 50%" aria-valuenow="50" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/50-transferring-files.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="10-hpc-intro.html">1. Why use an HPC System?</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="20-cluster.html">2. Working on an HPC system</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="30-scheduler.html">3. Working with the scheduler</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="40-modules.html">4. Accessing software via Modules</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        5. Transferring files with remote computers
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#download-files-from-the-internet">Download Files From the Internet</a></li>
<li><a href="#transferring-single-files-and-folders-with-scp">Transferring Single Files and Folders With <code>scp</code></a></li>
<li><a href="#transferring-a-directory">Transferring a Directory</a></li>
<li><a href="#whats-in-a">What’s in a <code>/</code>?</a></li>
<li><a href="#windows-users---transferring-files-interactively-with-mobaxterm">Windows Users - Transferring Files interactively with MobaXterm</a></li>
<li><a href="#transferring-files-to-and-from-campus-storage-for-research-data-rdw">Transferring files to and from Campus Storage for Research Data
(RDW)</a></li>
<li><a href="#large-data-copies">Large data copies</a></li>
<li><a href="#archiving-files">Archiving Files</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="60-parallel-job.html">6. Running a parallel job</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="70-resources.html">7. Using resources effectively</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="80-responsibility.html">8. Using shared resources responsibly</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="40-modules.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="60-parallel-job.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="40-modules.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Accessing software
        </a>
        <a class="chapter-link float-end" href="60-parallel-job.html" rel="next">
          Next: Running a parallel...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Transferring files with remote computers</h1>
        <p>Last updated on 2025-03-11 |

        <a href="https://github.com/NclRSE-Training/hpc-intro-rocket/edit/main/episodes/50-transferring-files.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How do I transfer files to (and from) the cluster?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>
<code>wget</code> and <code>curl -O</code> download a file from the
internet.</li>
<li>
<code>scp</code> transfers files to and from your computer.</li>
<li>
<code>rsync</code> transfers within the filesystem as well as to and
from your computer</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="required-files" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="required-files" class="callout-inner">
<h3 class="callout-title">Required Files</h3>
<div class="callout-content">
<p>The files used in this example can be retrieved using wget or a
browser on your laptop and then copied to the remote cluster.</p>
<p><strong>Using wget</strong>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ wget http://training.researchcomputing.ncl.ac.uk/training-materials/hpc-intro-data.tar.gz</span></code></pre>
</div>
<p><strong>Using a web browser</strong>:</p>
<p><a href="http://training.researchcomputing.ncl.ac.uk/training-materials/hpc-intro-data.tar.gz" class="external-link">http://training.researchcomputing.ncl.ac.uk/training-materials/hpc-intro-data.tar.gz</a></p>
</div>
</div>
</div>
<p>A remote cluster offers very limited use if we cannot get files to or
from it. There are several options for transferring data between
computing resources, from command line options to GUI programs, which we
will cover here.</p>
<section><h2 class="section-heading" id="download-files-from-the-internet">Download Files From the Internet<a class="anchor" aria-label="anchor" href="#download-files-from-the-internet"></a></h2>
<hr class="half-width"><p>One of the most straightforward ways to download files is to use
either <code>curl</code> or <code>wget</code>, one of these is usually
installed in most Linux shells, on Mac OS terminal and in GitBash. Any
file that can be downloaded in your web browser through a direct link
can be downloaded using <code>curl -O</code> or <code>wget</code>. This
is a quick way to download datasets or source code.</p>
<p>The syntax for these commands is:
<code>curl -O https://some/link/to/a/file</code> and
<code>wget https://some/link/to/a/file</code>. Try it out by downloading
some material we’ll use later on, from a terminal on your local
machine.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  curl <span class="at">-O</span> http://training.researchcomputing.ncl.ac.uk/training-materials/hpc-intro-data.tar.gz</span></code></pre>
</div>
<p>or</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  wget http://training.researchcomputing.ncl.ac.uk/training-materials/hpc-intro-data.tar.gz</span></code></pre>
</div>
<div id="tar.gz" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="tar.gz" class="callout-inner">
<h3 class="callout-title">
<code>tar.gz</code>?</h3>
<div class="callout-content">
<p>This is an archive file format, just like <code>.zip</code>, commonly
used and supported by default on Linux, which is the operating system
the majority of HPC cluster machines run. You may also see the extension
<code>.tgz</code>, which is exactly the same. We’ll talk more about
“tarballs,” since “tar-dot-g-z” is a mouthful, later on.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="transferring-single-files-and-folders-with-scp">Transferring Single Files and Folders With <code>scp</code>
<a class="anchor" aria-label="anchor" href="#transferring-single-files-and-folders-with-scp"></a></h2>
<hr class="half-width"><p>To copy a single file to or from the cluster, we can use
<code>scp</code> (“secure copy”). The syntax can be a little complex for
new users, but we’ll break it down.</p>
<p>To <em>upload to</em> a remote computer:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  scp path/to/local/file.txt userid@rocket.hpc:/path/on/Rocket</span></code></pre>
</div>
<p>To <em>download from</em> a remote computer:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  scp userid@rocket.hpc:/path/on/Rocket/file.txt path/to/local/</span></code></pre>
</div>
<p>Note that everything after the <code>:</code> is optional. If you
don’t specify a path on the remote computer, the file will be
transferred to your home directory. It’s a good idea to be clear about
where you are putting the file though, so use <code>~/</code> to upload
to the top level in your home directory. (using the handy <code>~</code>
as shorthand for your home directory.)</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  scp local-file.txt userid@rocket.hpc:</span></code></pre>
</div>
<div id="upload-a-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="upload-a-file" class="callout-inner">
<h3 class="callout-title">Upload a File</h3>
<div class="callout-content">
<p>Copy the file you just downloaded from the Internet to your home
directory on Rocket.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  scp hpc-intro-data.tar.gz userid@rocket.hpc:~/</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="can-you-download-to-the-cluster-directly" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="can-you-download-to-the-cluster-directly" class="callout-inner">
<h3 class="callout-title">Can you download to the cluster directly?</h3>
<div class="callout-content">
<p>Try downloading the file directly using <code>curl</code> or
<code>wget</code>. Do the commands understand file locations on your
local machine over SSH? Note that it may well fail, and that’s OK!</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>Using <code>curl</code> or <code>wget</code> commands like the
following:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  ssh userid@rocket.hpc</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ curl <span class="at">-O</span> http://training.researchcomputing.ncl.ac.uk/training-materials/hpc-intro-data.tar.gz</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="ex">or</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ wget http://training.researchcomputing.ncl.ac.uk/training-materials/hpc-intro-data.tar.gz</span></code></pre>
</div>
<p>Did it work? If not, what does the terminal output tell you about
what happened?</p>
<div class="section level3">
<h3 id="why-not-download-directly-to-the-cluster">Why Not Download Directly to the cluster?<a class="anchor" aria-label="anchor" href="#why-not-download-directly-to-the-cluster"></a></h3>
<p>Some computer clusters are behind firewalls set to only allow
transfers initiated from the <em>outside</em>. This means that the
<code>curl</code> command will fail, as an address outside the firewall
is unreachable from the inside. To get around this, run the
<code>curl</code> or <code>wget</code> command from your local machine
to download the file, then use the <code>scp</code> command (just below
here) to upload it to the cluster.</p>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="transferring-a-directory">Transferring a Directory<a class="anchor" aria-label="anchor" href="#transferring-a-directory"></a></h2>
<hr class="half-width"><p>To copy a whole directory, we add the <code>-r</code> flag, for
“<strong>r</strong>ecursive”: copy the item specified, and every item
below it, and every item below those… until it reaches the bottom of the
directory tree rooted at the folder name you provided.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  scp <span class="at">-r</span> some-local-folder userid@rocket.hpc:target-directory/</span></code></pre>
</div>
<div id="caution" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="caution" class="callout-inner">
<h3 class="callout-title">Caution</h3>
<div class="callout-content">
<p>For a large directory — either in size or number of files — copying
with <code>-r</code> can take a long time to complete.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="whats-in-a">What’s in a <code>/</code>?<a class="anchor" aria-label="anchor" href="#whats-in-a"></a></h2>
<hr class="half-width"><p>When using <code>scp</code>, you may have noticed that a
<code>:</code> <em>always</em> follows the remote computer name;
sometimes a <code>/</code> follows that, and sometimes not, and
sometimes there’s a final <code>/</code>. On Linux computers,
<code>/</code> is the <strong><em>root</em></strong> directory, the
location where the entire filesystem (and others attached to it) is
anchored. A path starting with a <code>/</code> is called
<em>absolute</em>, since there can be nothing above the root
<code>/</code>. A path that does not start with <code>/</code> is called
<em>relative</em>, since it is not anchored to the root.</p>
<p>If you want to upload a file to a location inside your home directory
— which is often the case — then you don’t need a leading
<code>/</code>. After the <code>:</code>, start writing the sequence of
folders that lead to the final storage location for the file or, as
mentioned above, provide nothing if your home directory <em>is</em> the
destination.</p>
<p>A trailing slash on the target directory is optional, and has no
effect for <code>scp -r</code>, but is important in other commands, like
<code>rsync</code>.</p>
</section><section><h2 class="section-heading" id="windows-users---transferring-files-interactively-with-mobaxterm">Windows Users - Transferring Files interactively with MobaXterm<a class="anchor" aria-label="anchor" href="#windows-users---transferring-files-interactively-with-mobaxterm"></a></h2>
<hr class="half-width"><p>MobaXterm is a free ssh client. It allows connections via a ‘jump
host’ so can even be used from home.</p>
</section><section><h2 class="section-heading" id="transferring-files-to-and-from-campus-storage-for-research-data-rdw">Transferring files to and from Campus Storage for Research Data
(RDW)<a class="anchor" aria-label="anchor" href="#transferring-files-to-and-from-campus-storage-for-research-data-rdw"></a></h2>
<hr class="half-width"><p>RDW is mounted on Rocket at <code>/rdw</code>. You can use scp and
rsync to transfer data to RDW in the same way as copying to any other
directory on Rocket.</p>
<div class="section level3">
<h3 id="using-cp-to-copy-to-rdw">Using cp to copy to RDW<a class="anchor" aria-label="anchor" href="#using-cp-to-copy-to-rdw"></a></h3>
<p>Because <code>/rdw</code> is a mounted filesystem, we can use
<code>cp</code> instead of <code>scp</code>:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ cp file.txt /rdw/03/rse-hpc/training/userid/</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="ex">[userid@login01</span> rse-hpc]$ cd /rdw/03/rse-hpc/training/userid/</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="ex">[userid@login01</span> userid]$ pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/rdw/03/rse-hpc/training/userid</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">[userid@login01</span> userid]$ ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">file.txt</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="using-rsync-to-copy-to-rdw">Using rsync to copy to RDW<a class="anchor" aria-label="anchor" href="#using-rsync-to-copy-to-rdw"></a></h3>
<p>As you gain experience with transferring files, you may find the
<code>scp</code> command limiting. The <a href="https://rsync.samba.org/" class="external-link">rsync</a> utility provides advanced
features for file transfer and is typically faster compared to both
<code>scp</code> and <code>sftp</code> (see below). It is especially
useful for transferring large and/or many files and creating synced
backup folders. The syntax is similar to <code>cp</code> and
<code>scp</code>. Rsync can be used on a locally mounted filesystem or a
remote filesystem.</p>
<p>Transfer <em>to</em> RDW from your work area on Rocket</p>
<div class="section level4">
<h4 id="try-out-a-dry-run">Try out a dry run:<a class="anchor" aria-label="anchor" href="#try-out-a-dry-run"></a></h4>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ cd /nobackup/proj/training/userid/</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="ex">[userid@sb024</span> userid]$ mkdir TestDir</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="ex">[userid@sb024</span> userid]$ touch TestDir/testfile1</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a><span class="ex">[userid@sb024</span> userid]$ touch TestDir/testfile2</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a><span class="ex">[userid@login01</span> userid]$ rsync <span class="at">-av</span> TestDir /rdw/03/rse-hpc/training/userid <span class="at">--dry-run</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sending incremental file list
TestDir/
TestDir/testfile1
TestDir/testfile2

sent 121 bytes  received 26 bytes  294.00 bytes/sec
total size is 0  speedup is 0.00 (DRY RUN)</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="run-for-real">Run ‘for real’:<a class="anchor" aria-label="anchor" href="#run-for-real"></a></h4>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">[userid@login01</span> userid]$ rsync <span class="at">-av</span> TestDir /rdw/03/rse-hpc/training/userid</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sending incremental file list
created directory /rdw/03/rse-hpc/training/userid
rsync: chgrp "/rdw/03/rse-hpc/training/userid/TestDir" failed: Invalid argument (22)
TestDir/
TestDir/testfile1
TestDir/testfile2
rsync: chgrp "/rdw/03/rse-hpc/training/userid/TestDir/.testfile1.ofeRqX" failed: Invalid argument (22)
rsync: chgrp "/rdw/03/rse-hpc/training/userid/TestDir/.testfile2.fS1m6j" failed: Invalid argument (22)

sent 197 bytes  received 415 bytes  408.00 bytes/sec
total size is 0  speedup is 0.00
rsync error: some files/attrs were not transferred (see previous errors) (code 23) at main.c(1179) [sender=3.1.2]</code></pre>
</div>
<p>What happened? <code>rsync</code> returned an error.
<code>files/attrs were not transferred</code> This is because RDW
doesn’t ‘know’ about Rocket’s groups. The transfer was successful
though! Only the ‘group’ attribute of the file couldn’t be transferred.
RDW has ‘trumped’ our local permissions and imposed its own standard
permissions. This isn’t important, the correct user keeps ownership of
the files.</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">[userid@login01</span> userid]$ ls <span class="at">-l</span> TestDir/</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>total 0
-rw------- 1 userid rockhpc_training 0 Mar 11 20:06 testfile1
-rw------- 1 userid rockhpc_training 0 Mar 11 20:06 testfile2
</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">[userid@login01</span> userid]$ ls <span class="at">-l</span> /rdw/03/rse-hpc/training/userid/TestDir/</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>total 33
-rwxrwx--- 1 userid domainusers 0 Mar 11 20:10 testfile1
-rwxrwx--- 1 userid domainusers 0 Mar 11 20:10 testfile2</code></pre>
</div>
<p>It’s still easier to read output without errors that we have to
ignore, so let’s remove that error.</p>
<p>The <code>-a</code> (archive) option preserves permissions, this is
why we see group modification errors above.<br>
For Rocket and RDW, replace <code>-av</code> with
<code>-rltv</code><br><code>-r</code> = recurse through subdirectories<br><code>-l</code> = copy symlinks<br><code>-t</code> = preserve timestamps<br><code>-v</code> = verbose</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">[userid@login01</span> userid]$ rsync <span class="at">-rltv</span> TestDir/ /rdw/03/rse-hpc/training/userid </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sending incremental file list
./
testfile1
testfile2

sent 150 bytes  received 57 bytes  414.00 bytes/sec
total size is 0  speedup is 0.00</code></pre>
</div>
<div id="spot-the-difference" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="spot-the-difference" class="callout-inner">
<h3 class="callout-title">Spot the difference</h3>
<div class="callout-content">
<p>Can you spot the difference betweent the 2 previous rsync commands?
Try <code>ls -l</code> on the destination.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">[userid@login01</span> userid]$ ls <span class="at">-R</span> /rdw/03/rse-hpc/training/userid/</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/rdw/03/rse-hpc/training/userid/:
TestDir  testfile1  testfile2

/rdw/03/rse-hpc/training/userid/TestDir:
testfile1  testfile2
</code></pre>
</div>
<p>We now have too many files! The first rsync command copied
<code>TestDir</code> because there was no trailing <code>/</code>.<br>
The second rsync command only copied the contents of
<code>TestDir</code> because of the trailing <code>/</code>.<br>
We could have spotted this by looking at the output of
<code>--dry-run</code> but this shows it’s a good idea to check the
destination after you copy.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="large-data-copies">Large data copies<a class="anchor" aria-label="anchor" href="#large-data-copies"></a></h2>
<hr class="half-width"><p>When copying large amounts of data, rsync really comes into its own.
When you’re copying a lot of data, it’s important to keep track in case
the copy is interrupted. Rsync is great because it can pick up where it
left off, rather than starting the copy all over again. It’s also useful
to output to a log so you can see what was transferred and find any
errors that need to be addressed.</p>
<div class="section level3">
<h3 id="fast-connections">Fast Connections<a class="anchor" aria-label="anchor" href="#fast-connections"></a></h3>
<p>Transfers from Rocket to RDW don’t leave our fast data centre
network. If you’re using rsync with a fast network or disk to disk in
the same machine:</p>
<ul><li>DON’T use compression <code>-z</code>
</li>
<li>DO use <code>--inplace</code>
</li>
</ul><p>Why? compression uses lots of CPU, Rsync usually creates a temp file
on disk before copying. For fast transfers, this places too much load on
the CPU and hard drive.<br><code>--inplace</code> tells rsync not to create the temp file but send
the data straight away. It doesn’t matter if the connection is
interrupted, because rsync keeps track and tries again. Always re-run
transfer command to ensure nothing was missed. The second run should be
very fast, just listing all the files and not copying anything.</p>
</div>
<div class="section level3">
<h3 id="slow-connections">Slow Connections<a class="anchor" aria-label="anchor" href="#slow-connections"></a></h3>
<p>For a slow connection like the internet:</p>
<ul><li>DO use compression <code>-z</code>
</li>
<li>DON’T use <code>--inplace</code>.</li>
</ul><div id="large-transfer-to-rdw" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="large-transfer-to-rdw" class="callout-inner">
<h3 class="callout-title">Large Transfer to RDW</h3>
<div class="callout-content">
<p>RDW has a super-fast connection to Rocket, which means that it takes
more resource to compress and un-compress the data than it does to do
the transfer. What command would best for backing up a large amount of
data from Rocket to RDW?</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ rsync <span class="at">-rltv</span> testDir/ /rdw/03/rse-hpc/training/userid</span></code></pre>
</div>
<p>The <code>-a</code> option preserves permissions, this is why we saw
group modification errors above. For Rocket and RDW, replace
<code>-av</code> with <code>-rltv</code><br><code>-r</code> = recurse through subdirectories<br><code>-l</code> = copy symlinks<br><code>-t</code> = preserve timestamps<br><code>-v</code> = verbose</p>
</div>
</div>
</div>
</div>
<div id="add-a-dry-run-and-a-log-file" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="add-a-dry-run-and-a-log-file" class="callout-inner">
<h3 class="callout-title">add a dry run and a log file</h3>
<div class="callout-content">

</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p>Try out a dry run:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">rsync</span> <span class="at">--dry-run</span> <span class="at">-rltv</span> <span class="at">--inplace</span> <span class="at">--itemize-changes</span> <span class="at">--progress</span> <span class="at">--stats</span> <span class="at">--whole-file</span> <span class="at">--size-only</span> /nobackup/myusername/source /rdw/path/to/my/share/destination/ <span class="dv">2</span><span class="op">&gt;&amp;</span><span class="dv">1</span> <span class="kw">|</span> <span class="fu">tee</span> /home/myusername/meaningful-log-name.log1</span></code></pre>
</div>
<p>Run ‘for real’:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="fu">rsync</span> <span class="at">-rltv</span> <span class="at">--inplace</span> <span class="at">--itemize-changes</span> <span class="at">--progress</span> <span class="at">--stats</span> <span class="at">--whole-file</span> <span class="at">--size-only</span> /nobackup/myusername/source /rdw/path/to/my/share/destination/ <span class="dv">2</span><span class="op">&gt;&amp;</span><span class="dv">1</span> <span class="kw">|</span> <span class="fu">tee</span> /home/myusername/meaningful-log-name.log2</span></code></pre>
</div>
<ul><li>
<code>--inplace --whole-file --size-only</code> speed up transfer
and prevent rsync filling up space with a large temporary
directory<br></li>
<li>
<code>--itemize-changes --progress --stats</code> for more
informative output<br></li>
<li>Remember <code>|</code> from the Unix Shell workshop?<br><code>| tee</code> sends output both to the screen and to a log
file<br></li>
<li>All the arguments can be single letters like <code>-v</code> or full
words like <code>--verbose</code>. Use <code>man rsync</code> to craft
your favourite arguments list.</li>
</ul></div>
</div>
</div>
</div>
<div id="a-note-on-ports" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="a-note-on-ports" class="callout-inner">
<h3 class="callout-title">A Note on Ports</h3>
<div class="callout-content">
<p>All file transfers using the above methods use SSH to encrypt data
sent through the network. So, if you can connect via SSH, you will be
able to transfer files. By default, SSH uses network port 22. If a
custom SSH port is in use, you will have to specify it using the
appropriate flag, often <code>-p</code>, <code>-P</code>, or
<code>--port</code>. Check <code>--help</code> or the <code>man</code>
page if you’re unsure.</p>
</div>
</div>
</div>
<div id="rsync-port" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="rsync-port" class="callout-inner">
<h3 class="callout-title">Rsync Port</h3>
<div class="callout-content">
<p>Say we have to connect <code>rsync</code> through port 768 instead of
22. How would we modify this command?</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  rsync test.txt userid@rocket.hpc:</span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  rsync <span class="at">--help</span> <span class="kw">|</span> <span class="fu">grep</span> port</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a>     <span class="ex">--port=PORT</span>             specify double-colon alternate port number</span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a><span class="ex">See</span> https://rsync.samba.org/ for updates, bug reports, and answers</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  rsync <span class="at">--port</span><span class="op">=</span>768 test.txt userid@rocket.hpc:</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="archiving-files">Archiving Files<a class="anchor" aria-label="anchor" href="#archiving-files"></a></h2>
<hr class="half-width"><p>One of the biggest challenges we often face when transferring data
between remote HPC systems is that of large numbers of files. There is
an overhead to transferring each individual file and when we are
transferring large numbers of files these overheads combine to slow down
our transfers to a large degree.</p>
<p>The solution to this problem is to <em>archive</em> multiple files
into smaller numbers of larger files before we transfer the data to
improve our transfer efficiency. Sometimes we will combine archiving
with <em>compression</em> to reduce the amount of data we have to
transfer and so speed up the transfer.</p>
<p>The most common archiving command you will use on a (Linux) HPC
cluster is <code>tar</code>. <code>tar</code> can be used to combine
files into a single archive file and, optionally, compress it.</p>
<p>Let’s start with the file we downloaded from the lesson site,
<code>hpc-lesson-data.tar.gz</code>. The “gz” part stands for
<em>gzip</em>, which is a compression library. Reading this file name,
it appears somebody took a folder named “hpc-lesson-data,” wrapped up
all its contents in a single file with <code>tar</code>, then compressed
that archive with <code>gzip</code> to save space. Let’s check using
<code>tar</code> with the <code>-t</code> flag, which prints the
“<strong>t</strong>able of contents” without unpacking the file,
specified by <code>-f &lt;filename&gt;</code>, on the remote computer.
Note that you can concatenate the two flags, instead of writing
<code>-t -f</code> separately.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  ssh userid@rocket.hpc</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ tar <span class="at">-tf</span> hpc-lesson-data.tar.gz</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="ex">hpc-intro-data/</span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/</span></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01971Z.txt</span></span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/goostats</span></span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/goodiff</span></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02040B.txt</span></span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01978B.txt</span></span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02043B.txt</span></span>
<span id="cb31-11"><a href="#cb31-11" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02018B.txt</span></span>
<span id="cb31-12"><a href="#cb31-12" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01843A.txt</span></span>
<span id="cb31-13"><a href="#cb31-13" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01978A.txt</span></span>
<span id="cb31-14"><a href="#cb31-14" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01751B.txt</span></span>
<span id="cb31-15"><a href="#cb31-15" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01736A.txt</span></span>
<span id="cb31-16"><a href="#cb31-16" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01812A.txt</span></span>
<span id="cb31-17"><a href="#cb31-17" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02043A.txt</span></span>
<span id="cb31-18"><a href="#cb31-18" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01729B.txt</span></span>
<span id="cb31-19"><a href="#cb31-19" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02040A.txt</span></span>
<span id="cb31-20"><a href="#cb31-20" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01843B.txt</span></span>
<span id="cb31-21"><a href="#cb31-21" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01751A.txt</span></span>
<span id="cb31-22"><a href="#cb31-22" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE01729A.txt</span></span>
<span id="cb31-23"><a href="#cb31-23" tabindex="-1"></a><span class="ex">hpc-intro-data/north-pacific-gyre/NENE02040Z.txt</span></span></code></pre>
</div>
<p>This shows a folder containing another folder, which contains a bunch
of files. If you’ve taken The Carpentries’ Shell lesson recently, these
might look familiar. Let’s see about that compression, using
<code>du</code> for “<strong>d</strong>isk <strong>u</strong>sage”.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ du <span class="at">-sh</span> hpc-lesson-data.tar.gz</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="ex">36K</span>     hpc-intro-data.tar.gz</span></code></pre>
</div>
<div id="files-occupy-at-least-one-block" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="files-occupy-at-least-one-block" class="callout-inner">
<h3 class="callout-title">Files Occupy at Least One “Block”</h3>
<div class="callout-content">
<p>If the filesystem block size is larger than 36 KB, you’ll see a
larger number: files cannot be smaller than one block.</p>
</div>
</div>
</div>
<p>Now let’s unpack the archive. We’ll run <code>tar</code> with a few
common flags:</p>
<ul><li>
<code>-x</code> to e<strong>x</strong>tract the archive</li>
<li>
<code>-v</code> for <strong>v</strong>erbose output</li>
<li>
<code>-z</code> for g<strong>z</strong>ip compression</li>
<li>
<code>-f</code> for the file to be unpacked</li>
</ul><p>When it’s done, check the directory size with <code>du</code> and
compare.</p>
<div id="extract-the-archive" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="extract-the-archive" class="callout-inner">
<h3 class="callout-title">Extract the Archive</h3>
<div class="callout-content">
<p>Using the four flags above, unpack the lesson data using
<code>tar</code>. Then, check the size of the whole unpacked directory
using <code>du</code>. Hint: <code>tar</code> lets you concatenate
flags.</p>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Commands </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ tar <span class="at">-xvzf</span> hpc-lesson-data.tar.gz</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01971Z.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">goostats</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">goodiff</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02040B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01978B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02043B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02018B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01843A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01978A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01751B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01736A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01812A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02043A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01729B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02040A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01843B.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01751A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE01729A.txt</span></span>
<span><span class="va">hpc</span><span class="op">-</span><span class="va">intro</span><span class="op">-</span><span class="va">data</span><span class="op">/</span><span class="va">north</span><span class="op">-</span><span class="va">pacific</span><span class="op">-</span><span class="va">gyre</span><span class="op">/</span><span class="va">NENE02040Z.txt</span></span></code></pre>
</div>
<p>Note that we did not type out <code>-x -v -z -f</code>, thanks to the
flag concatenation, though the command works identically either way.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">[userid@login01</span> ~]$ du <span class="at">-sh</span> hpc-lesson-data</span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="ex">144K</span>    hpc-intro-data</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="was-the-data-compressed" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="was-the-data-compressed" class="callout-inner">
<h3 class="callout-title">Was the Data Compressed?</h3>
<div class="callout-content">
<p>Text files compress nicely: the “tarball” is one-quarter the total
size of the raw data!</p>
</div>
</div>
</div>
<p>If you want to reverse the process — compressing raw data instead of
extracting it — set a <code>c</code> flag instead of <code>x</code>, set
the archive filename, then provide a directory to compress:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="ex">[user@laptop</span> ~]$  tar <span class="at">-cvzf</span> compressed_data.tar.gz hpc-intro-data</span></code></pre>
</div>
<div id="working-with-windows" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="working-with-windows" class="callout-inner">
<h3 class="callout-title">Working with Windows</h3>
<div class="callout-content">
<p>When you transfer text files to from a Windows system to a Unix
system (Mac, Linux, BSD, Solaris, etc.) this can cause problems. Windows
encodes its files slightly different than Unix, and adds an extra
character to every line. On a Unix system, every line in a file ends
with a <code>\n</code> (newline). On Windows, every line in a file ends
with a <code>\r\n</code> (carriage return + newline). This causes
problems sometimes. Though most modern programming languages and
software handles this correctly, in some rare instances, you may run
into an issue. The solution is to convert a file from Windows to Unix
encoding with the <code>dos2unix</code> command. You can identify if a
file has Windows line endings with <code>cat -A filename</code>. A file
with Windows line endings will have <code>^M$</code> at the end of every
line. A file with Unix line endings will have <code>$</code> at the end
of a line. To convert the file, just run <code>dos2unix filename</code>.
(Conversely, to convert back to Windows format, you can run
<code>unix2dos filename</code>.)</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>
<code>wget</code> and <code>curl -O</code> download a file from the
internet.</li>
<li>
<code>scp</code> transfers files to and from your computer.</li>
<li>
<code>rsync</code> is good for large transfers because it only
transfers changed files</li>
</ul></div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="40-modules.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="60-parallel-job.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="40-modules.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Accessing software
        </a>
        <a class="chapter-link float-end" href="60-parallel-job.html" rel="next">
          Next: Running a parallel...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/NclRSE-Training/hpc-intro-rocket/edit/main/episodes/50-transferring-files.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/NclRSE-Training/hpc-intro-rocket/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/NclRSE-Training/hpc-intro-rocket/" class="external-link">Source</a></p>
				<p><a href="https://github.com/NclRSE-Training/hpc-intro-rocket/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:workshoporganisation@group.newcastle.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.11" class="external-link">sandpaper (0.16.11)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://NclRSE-Training.github.io/hpc-intro-rocket/50-transferring-files.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Transferring files with remote computers",
  "creativeWorkStatus": "active",
  "url": "https://NclRSE-Training.github.io/hpc-intro-rocket/50-transferring-files.html",
  "identifier": "https://NclRSE-Training.github.io/hpc-intro-rocket/50-transferring-files.html",
  "dateCreated": "2025-02-12",
  "dateModified": "2025-03-11",
  "datePublished": "2025-03-11"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

